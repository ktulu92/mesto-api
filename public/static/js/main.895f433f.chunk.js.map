{"version":3,"sources":["components/Header.js","components/Footer.js","utils/api.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","Footer","api","url","headers","this","console","log","fetch","then","res","ok","json","Promise","reject","status","catch","err","name","link","method","body","JSON","stringify","cardId","isLiked","data","avatar","about","authorization","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","likes","some","i","cardLikeButtonClassName","cardDeleteButtonClassName","onClick","onCardDelete","src","alt","onCardLike","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","map","onCardClick","ImagePopup","onClose","PopupWithForm","title","isOpen","submitButtonText","onSubmit","children","action","noValidate","type","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","placeholder","required","minLength","maxLength","id","onChange","target","value","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","cardName","setCardName","cardLink","setCardLink","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","setIsEditAvatarPopupOpen","setAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getProfileInfo","getInitialCards","Provider","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","info","editProfile","updateUserAvatar","user","addNewCard","cardData","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.895f433f.chunk.js","sourcesContent":["function Header(props) {\n  return (\n    <header className=\"header\">\n      <div className=\"header__logo\"></div>\n    </header>\n  );\n}\n\nexport default Header;\n","function Footer (){\n    return(\n\n<footer className=\"footer\">\n<p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n</footer>\n\n    )\n}\n\nexport default Footer;\n\n","class Api {\n  constructor(url, headers) {\n    this.url = url;\n    this.headers = headers;\n  }\n\n  //ЭТОТ МЕТОД РАБОТАЕТ\n  getInitialCards() {\n    console.log(`${this.url}` + \"cards\");\n    return fetch(`${this.url}` + \"cards\", {\n      headers: this.headers,\n    })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        // если ошибка, отклоняем промис\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n      .catch((err) => {\n        console.log(\"Запрос не выполнен\", err);\n      });\n  }\n\n  //ЭТОТМЕТОД РАБОТАЕТ\n  addNewCard({ name, link }) {\n    return fetch(`${this.url}` + \"cards\", {\n      method: \"POST\",\n\n      headers: this.headers,\n      body: JSON.stringify({\n        name: name,\n        link: link,\n      }),\n    })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        // если ошибка, отклоняем промис\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n\n      .catch((err) => {\n        console.log(\"Запрос не выполнен\", err);\n      });\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this.url}` + \"cards/\" + `${cardId}`, {\n      method: \"DELETE\",\n\n      headers: this.headers,\n    })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        // если ошибка, отклоняем промис\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n\n      .catch((err) => {\n        console.log(\"Запрос не выполнен\", err);\n      });\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    if (isLiked) {\n      return fetch(`${this.url}` + \"cards/likes/\" + `${cardId}`, {\n        method: \"PUT\",\n\n        headers: this.headers,\n      })\n        .then((res) => {\n          if (res.ok) {\n            return res.json();\n          }\n          // если ошибка, отклоняем промис\n          return Promise.reject(`Ошибка: ${res.status}`);\n        })\n\n        .catch((err) => {\n          console.log(\"Запрос не выполнен\", err);\n        });\n    } else {\n      return fetch(`${this.url}` + \"cards/likes/\" + `${cardId}`, {\n        method: \"DELETE\",\n\n        headers: this.headers,\n      })\n        .then((res) => {\n          if (res.ok) {\n            return res.json();\n          }\n          // если ошибка, отклоняем промис\n          return Promise.reject(`Ошибка: ${res.status}`);\n        })\n\n        .catch((err) => {\n          console.log(\"Запрос не выполнен\", err);\n        });\n    }\n  }\n\n  updateUserAvatar(data) {\n    return fetch(`${this.url}` + \"users/me/avatar\", {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: data.avatar,\n      }),\n    })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n      .catch((err) => {\n        console.log(\"Запрос не выполнен\", err);\n      });\n  }\n\n  getProfileInfo() {\n    return fetch(`${this.url}` + \"users/me\", {\n      method: \"GET\",\n      headers: this.headers,\n    })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        // если ошибка, отклоняем промис\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n      .catch((err) => {\n        console.log(\"Запрос не выполнен\", err);\n      });\n  }\n\n  editProfile(data) {\n    return fetch(`${this.url}` + \"users/me\", {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n      }),\n    })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        // если ошибка, отклоняем промис\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n      .catch((err) => {\n        console.log(\"Запрос не выполнен\", err);\n      });\n  }\n}\nconst urlData = \"https://mesto.nomoreparties.co/v1/cohort-17/\";\nconst headersData = {\n  authorization: \"c9722db9-3ef8-471a-a8fd-61097de987b4\",\n  \"Content-Type\": \"application/json\",\n};\n\nconst api = new Api(urlData, headersData);\n\nexport default api;\n"," import React from 'react';\n export const  CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = props.card.owner._id === currentUser._id;\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\n  const cardLikeButtonClassName = `element__like-button  ${\n    isLiked && \"element__like-button_clicked\"\n  }`;\n\n  const cardDeleteButtonClassName = `element__delete-button ${\n    isOwn\n      ? \"element__delete-button_type_visible\"\n      : \"element__delete-button_type_hidden\"\n  }`;\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleClick() {\n    props.onClick(props.card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <div className=\"template-element\">\n      <li className=\"element\">\n        <button\n          className={cardDeleteButtonClassName}\n          onClick={handleDeleteClick}\n        ></button>\n        <img\n          className=\"element__image\"\n          src={props.card.link}\n          alt={props.card.name}\n          onClick={handleClick}\n        />\n        <div className=\"element__info\">\n          <h2 className=\"element__title\">{props.card.name}</h2>\n          <div className=\"element__like-container\">\n            <button\n              className={cardLikeButtonClassName}\n              onClick={handleLikeClick}\n            ></button>\n            <p className=\"element__like-count\">{props.card.likes.length}</p>\n          </div>\n        </div>\n      </li>\n    </div>\n  );\n}\n\nexport default Card;\n","import { render } from \"@testing-library/react\";\nimport React, { useState, useEffect } from \"react\";\nimport api from \"../utils/api\";\nimport Card from \"../components/Card\";\n\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__container\">\n          <img\n            className=\"profile__avatar\"\n            src={currentUser.avatar}\n            alt={\"userAvatar\"}\n          />\n          <div className=\"profile__layout\">\n            <button\n              className=\"profile__edit-avatar\"\n              onClick={props.onEditAvatar}\n            ></button>\n          </div>\n        </div>\n\n        <div className=\"profile__info\">\n          <div className=\"profile__name-container\">\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\n            <p className=\"profile__subtitle\">{currentUser.about}</p>\n          </div>\n          <button\n            className=\"profile__edit-button\"\n            onClick={props.onEditProfile}\n          ></button>\n        </div>\n        <button\n          className=\"profile__add-button\"\n          onClick={props.onAddPlace}\n        ></button>\n      </section>\n\n      <ul className=\"elements\">\n        {props.cards.map((card) => {\n          console.log(card);\n\n          return (\n            <Card\n              key={card._id}\n              card={card}\n              onClick={props.onCardClick}\n              onCardLike={props.onCardLike}\n              onCardDelete={props.onCardDelete}\n            />\n          );\n        })}\n      </ul>\n    </main>\n  );\n}\n\nexport default Main;\n","function ImagePopup({ card, onClose }) {\n  return (\n    <section className={`pop-up pop-up_type_image ${card && \"pop-up_opened\"}`}>\n      <figure className=\"pop-up_container_type_image\">\n        <img\n          className=\"pop-up__image\"\n          alt={card && card.name}\n          src={card && `${card.link}`}\n        />\n        <button\n          className=\"pop-up__close-button pop-up__image-close-button\"\n          onClick={onClose}\n        ></button>\n        <h4 className=\"pop-up__image-title\">{card && card.name}</h4>\n        <div className=\"pop-up__overlay pop-up__overlay_type_image\"></div>\n      </figure>\n    </section>\n  );\n}\n\nexport default ImagePopup;\n","import React from \"react\";\n\nfunction PopupWithForm(props) {\n  const {\n    title,\n    name,\n    isOpen,\n    onClose,\n    submitButtonText,\n    onSubmit,\n    children,\n  } = props;\n\n  return (\n    <section\n      className={\n        isOpen\n          ? ` pop-up pop-up-${name} pop-up_opened`\n          : `pop-up pop-up-${name}`\n      }\n    >\n      <form\n        className={`pop-up__container pop-up__form_type_${name}`}\n        action=\"\"\n        method=\"post\"\n        name=\"enter\"\n        noValidate\n        onSubmit={onSubmit}\n      >\n        <button\n          className=\"pop-up__close-button pop-up__profile-close-button\"\n          type=\"button\"\n          onClick={onClose}\n        ></button>\n        <h2 className=\"pop-up__title\">{title}</h2>\n\n        {children}\n        <button\n          className=\"pop-up__submit-button pop-up__profile-submit-button\"\n          type=\"submit\"\n        >\n          {submitButtonText}\n        </button>\n      </form>\n      <div className=\"pop-up__overlay pop-up__overlay_type_profile\"></div>\n    </section>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name: name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Редактировать профиль\"\n      name=\"profile\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      submitButtonText=\"Cохранить\"\n      onSubmit={handleSubmit}\n    >\n      <>\n        <div className=\"pop-up__field pop-up__field_type_name\">\n          <input\n            className=\"pop-up__input pop-up__input_type_name\"\n            placeholder=\"\"\n            required\n            minLength=\"2\"\n            maxLength=\"40\"\n            id=\"pop-up__input_type_name\"\n            name=\"name\"\n            onChange={handleChangeName}\n            value={name || \"\"}\n          />\n          <span\n            className=\"pop-up__error\"\n            id=\"pop-up__input_type_name-error\"\n          ></span>\n        </div>\n        <div className=\"pop-up__field pop-up__field_type_description\">\n          <input\n            className=\"pop-up__input pop-up__input_type_description\"\n            placeholder=\"\"\n            required\n            minLength=\"2\"\n            maxLength=\"200\"\n            id=\"pop-up__input_type_description\"\n            name=\"description\"\n            onChange={handleChangeDescription}\n            value={description || \"\"}\n          />\n          <span\n            className=\"pop-up__error\"\n            id=\"pop-up__input_type_description-error\"\n          ></span>\n        </div>\n      </>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport { useRef } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function EditAvatarPopup(props) {\n  const avatarRef = useRef(\"\");\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n    avatarRef.current.value = \"\";\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Обновить аватар\"\n      name=\"edit-avatar\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      submitButtonText=\"Cохранить\"\n      onSubmit={handleSubmit}\n    >\n      <input\n        className=\"pop-up__input pop-up__input_type_avatar-link\"\n        type=\"url\"\n        placeholder=\"Ссылка на аватар\"\n        required\n        id=\"pop-up__input_type_avatar-link\"\n        name=\"avatar-link\"\n        ref={avatarRef}\n      />\n      <span\n        className=\"pop-up__error\"\n        id=\"pop-up__input_type_avatar-link-error\"\n      ></span>\n    </PopupWithForm>\n  );\n}\n","import React from \"react\";\nimport PopupWithForm from \"../components/PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n  const [cardName, setCardName] = React.useState(\"\");\n  const [cardLink, setCardLink] = React.useState(\"\");\n\n  function handleCardName(e) {\n    setCardName(e.target.value);\n  }\n\n  function handleCardLink(e) {\n    setCardLink(e.target.value);\n  }\n\n  function handleSubmitCard(e) {\n    e.preventDefault(\n      props.onAddPlace({\n        name: cardName,\n        link: cardLink,\n      })\n    );\n  }\n  return (\n    <PopupWithForm\n      title=\"Новое место\"\n      name=\"place\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      submitButtonText=\"Создать\"\n      onSubmit={handleSubmitCard}\n    >\n      <div className=\"pop-up__field pop-up__field_type_name\">\n        <input\n          className=\"pop-up__input pop-up__input_type_name\"\n          placeholder=\"Название\"\n          required\n          minLength=\"1\"\n          maxLength=\"30\"\n          id=\"pop-up__input_type_name\"\n          name=\"name\"\n          onChange={handleCardName}\n          value={cardName}\n        />\n        <span\n          className=\"pop-up__error\"\n          id=\"pop-up__input_type_name-error\"\n        ></span>\n      </div>\n      <div className=\"pop-up__field pop-up__field_type_link\">\n        <input\n          className=\"pop-up__input pop-up__input_type_image-link\"\n          type=\"url\"\n          placeholder=\"Ссылка на картинку\"\n          required\n          id=\"pop-up__input_type_image-link\"\n          name=\"link\"\n          onChange={handleCardLink}\n          value={cardLink}\n        />\n        <span\n          className=\"pop-up__error\"\n          id=\"pop-up__input_type_image-link-error\"\n        ></span>\n      </div>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React, { useState, useEffect } from \"react\";\n\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Main from \"./Main\";\nimport ImagePopup from \"./ImagePopup\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport api from \"../utils/api\";\nimport EditProfilePopup from \"../components/EditProfilePopup\";\nimport EditAvatarPopup from \"../components/EditAvatarPopup\";\nimport AddPlacePopup from \"../components/AddPlacePopup\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [setIsEditAvatarPopupOpen, setAvatarPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api.getProfileInfo().then((data) => {\n      setCurrentUser(data);\n    });\n  }, []);\n\n\n  function handleUpdateUser(info) {\n    api.editProfile(info).then((data) => {\n      setCurrentUser(data);\n      closeAllPopups();\n    });\n  }\n\n  function handleUpdateAvatar(avatar) {\n    api.updateUserAvatar(avatar).then((user) => {\n      setCurrentUser(user);\n\n      closeAllPopups();\n    });\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setAvatarPopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setAvatarPopupOpen(false);\n    setSelectedCard(null);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleCardLike(card) {\n    // Проверяем постановку лайка текущим пользователем\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n      // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n\n     \n      const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n\n      // Обновляем стейт\n       setCards(newCards);\n    });\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id).then(() => {\n      const newCards = cards.filter((c) => c._id !== card._id);\n      setCards(newCards);\n    });\n  }\n\n  function handleAddCardSubmit(card) {\n    api.addNewCard(card).then((cardData) => {\n      setCards([cardData, ...cards]);\n      closeAllPopups();\n    });\n  }\n\n  React.useEffect(() => {\n    api.getInitialCards().then((cards) => {\n      setCards(cards);\n      \n    });\n  }, []);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page__container\">\n        <Header />\n\n        <Main\n          cards={cards}\n          onEditAvatar={handleEditAvatarClick}\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onCardClick={handleCardClick}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete}\n        />\n\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n\n        {/* попап редактирования профиля */}\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        {/* попап редактирования аватара */}\n\n        <EditAvatarPopup\n          isOpen={setIsEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n                />\n\n        {/* попап добавления новой карточки */}\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddCardSubmit}\n        />\n\n        <Footer />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}